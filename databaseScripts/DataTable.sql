create table ColumnEffect
(
	EffectID int not null primary key identity(1, 1),
	Effect varchar(50) not null
);

create table ColumnInfo
(
	ColumnName varchar(50) not null primary key,
	ColumnOrder int not null unique,
	ColumnEffect int not null,
	IsActive bit not null,
	--ColumnDataType int not null,
);

create table TableItem
(
	ItemDate Date not null,
	ColumnName varchar(50) not null,
	Note varchar(max) null,
	ItemValue decimal(8,2) not null DEFAULT 0.0,
	primary key(ItemDate, ColumnName)
);

alter table ColumnInfo add constraint fk_ColumnEffect
foreign key (ColumnEffect) references ColumnEffect(EffectID)

alter table TableItem add constraint fk_ColumnName
foreign key (ColumnName) references ColumnInfo(ColumnName)

insert into ColumnEffect (Effect)
values ('Plus'),('Minus'),('NoEffect')

insert into ColumnInfo (ColumnName,ColumnOrder,ColumnEffect,IsActive)
values
('Auto', 1, 2, 1),
('Obchod', 2, 2, 1),
('Obedy', 3, 2, 1),
('Vklad', 4, 1, 1),
('Výber', 5, 3, 1);

insert into TableItem (ItemDate, ColumnName,ItemValue)
values
('2017-02-01', 'Auto', 50),
('2017-02-01', 'Obchod', 5.25),
('2017-02-01', 'Obedy', 4.30),
('2017-02-01', 'Vklad', 100),
('2017-02-01', 'Výber', 20),
('2017-02-02', 'Auto', 50),
('2017-02-02', 'Obchod', 5.25),
('2017-02-02', 'Obedy', 4.30),
('2017-02-02', 'Vklad', 100),
('2017-02-02', 'Výber', 20),
('2017-02-03', 'Auto', 50),
('2017-02-03', 'Obchod', 5.25),
('2017-02-03', 'Obedy', 4.30),
('2017-02-03', 'Vklad', 100),
('2017-02-03', 'Výber', 20),
('2017-02-04', 'Auto', 50),
('2017-02-04', 'Obchod', 5.25),
('2017-02-04', 'Obedy', 4.30),
('2017-02-04', 'Vklad', 100),
('2017-02-04', 'Výber', 20),
('2017-02-05', 'Auto', 50),
('2017-02-05', 'Obchod', 5.25),
('2017-02-05', 'Obedy', 4.30),
('2017-02-05', 'Vklad', 100),
('2017-02-05', 'Výber', 20),
('2017-02-06', 'Auto', 50),
('2017-02-06', 'Obchod', 5.25),
('2017-02-06', 'Obedy', 4.30),
('2017-02-06', 'Vklad', 100),
('2017-02-06', 'Výber', 20),
('2017-02-07', 'Auto', 50),
('2017-02-07', 'Obchod', 5.25),
('2017-02-07', 'Obedy', 4.30),
('2017-02-07', 'Vklad', 100),
('2017-02-07', 'Výber', 20),
('2017-02-08', 'Auto', 50),
('2017-02-08', 'Obchod', 5.25),
('2017-02-08', 'Obedy', 4.30),
('2017-02-08', 'Vklad', 100),
('2017-02-08', 'Výber', 20),
('2017-02-09', 'Auto', 50),
('2017-02-09', 'Obchod', 5.25),
('2017-02-09', 'Obedy', 4.30),
('2017-02-09', 'Vklad', 100),
('2017-02-09', 'Výber', 20),
('2017-02-10', 'Auto', 50),
('2017-02-10', 'Obchod', 5.25),
('2017-02-10', 'Obedy', 4.30),
('2017-02-10', 'Vklad', 100),
('2017-02-10', 'Výber', 20),
('2017-02-11', 'Auto', 50),
('2017-02-11', 'Obchod', 5.25),
('2017-02-11', 'Obedy', 4.30),
('2017-02-11', 'Vklad', 100),
('2017-02-11', 'Výber', 20),
('2017-02-12', 'Auto', 50),
('2017-02-12', 'Obchod', 5.25),
('2017-02-12', 'Obedy', 4.30),
('2017-02-12', 'Vklad', 100),
('2017-02-12', 'Výber', 20),
('2017-02-13', 'Auto', 50),
('2017-02-13', 'Obchod', 5.25),
('2017-02-13', 'Obedy', 4.30),
('2017-02-13', 'Vklad', 100),
('2017-02-13', 'Výber', 20),
('2017-02-14', 'Auto', 50),
('2017-02-14', 'Obchod', 5.25),
('2017-02-14', 'Obedy', 4.30),
('2017-02-14', 'Vklad', 100),
('2017-02-14', 'Výber', 20),
('2017-02-15', 'Auto', 50),
('2017-02-15', 'Obchod', 5.25),
('2017-02-15', 'Obedy', 4.30),
('2017-02-15', 'Vklad', 100),
('2017-02-15', 'Výber', 20),
('2017-02-16', 'Auto', 50),
('2017-02-16', 'Obchod', 5.25),
('2017-02-16', 'Obedy', 4.30),
('2017-02-16', 'Vklad', 100),
('2017-02-16', 'Výber', 20),
('2017-02-17', 'Auto', 50),
('2017-02-17', 'Obchod', 5.25),
('2017-02-17', 'Obedy', 4.30),
('2017-02-17', 'Vklad', 100),
('2017-02-17', 'Výber', 20),
('2017-02-18', 'Auto', 50),
('2017-02-18', 'Obchod', 5.25),
('2017-02-18', 'Obedy', 4.30),
('2017-02-18', 'Vklad', 100),
('2017-02-18', 'Výber', 20),
('2017-02-19', 'Auto', 50),
('2017-02-19', 'Obchod', 5.25),
('2017-02-19', 'Obedy', 4.30),
('2017-02-19', 'Vklad', 100),
('2017-02-19', 'Výber', 20),
('2017-02-20', 'Auto', 50),
('2017-02-20', 'Obchod', 5.25),
('2017-02-20', 'Obedy', 4.30),
('2017-02-20', 'Vklad', 100),
('2017-02-20', 'Výber', 20),
('2017-02-21', 'Auto', 50),
('2017-02-21', 'Obchod', 5.25),
('2017-02-21', 'Obedy', 4.30),
('2017-02-21', 'Vklad', 100),
('2017-02-21', 'Výber', 20),
('2017-02-22', 'Auto', 50),
('2017-02-22', 'Obchod', 5.25),
('2017-02-22', 'Obedy', 4.30),
('2017-02-22', 'Vklad', 100),
('2017-02-22', 'Výber', 20),
('2017-02-23', 'Auto', 50),
('2017-02-23', 'Obchod', 5.25),
('2017-02-23', 'Obedy', 4.30),
('2017-02-23', 'Vklad', 100),
('2017-02-23', 'Výber', 20),
('2017-02-24', 'Auto', 50),
('2017-02-24', 'Obchod', 5.25),
('2017-02-24', 'Obedy', 4.30),
('2017-02-24', 'Vklad', 100),
('2017-02-24', 'Výber', 20),
('2017-02-25', 'Auto', 50),
('2017-02-25', 'Obchod', 5.25),
('2017-02-25', 'Obedy', 4.30),
('2017-02-25', 'Vklad', 100),
('2017-02-25', 'Výber', 20),
('2017-02-26', 'Auto', 50),
('2017-02-26', 'Obchod', 5.25),
('2017-02-26', 'Obedy', 4.30),
('2017-02-26', 'Vklad', 100),
('2017-02-26', 'Výber', 20),
('2017-02-27', 'Auto', 50),
('2017-02-27', 'Obchod', 5.25),
('2017-02-27', 'Obedy', 4.30),
('2017-02-27', 'Vklad', 100),
('2017-02-27', 'Výber', 20),
('2017-02-28', 'Auto', 50),
('2017-02-28', 'Obchod', 5.25),
('2017-02-28', 'Obedy', 4.30),
('2017-02-28', 'Vklad', 100),
('2017-02-28', 'Výber', 20);


